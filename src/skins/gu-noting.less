@import 'vars.less';
@import 'mixins/dotted-border.less';
@import 'mixins/note-chevron-left.less';
@import 'mixins/note-chevron-right.less';

.note {
  .note--background();

  position: relative;
  vertical-align: bottom;
  pointer-events: none;

  display: inline;
  margin: 0;
  color: @note-text-colour;
  padding: 2px 0;

  &:hover {
    cursor: inherit;
  }
}



.note-border--left() {
  .note-chevron-left(@note-border-colour, top left, contain, no-repeat);
}

.note-border--right() {
  .note-chevron-right(@note-border-colour, bottom right, contain, no-repeat);
}

/* Core note background */
.note--background() {
  .dotted-border(@note-border-colour, top, 2px, repeat-x);
  .dotted-border(@note-border-colour, bottom, 2px, repeat-x);
  background-color: @note-background-colour;
}


.note--start {
  .note-border--left();
  margin-left: 1px;
  padding-left: 4px;
}

.note--end {
  .note-border--right();
  margin-right: 1px;
  padding-right: 4px;
}


.note--start.note--end,
.note--start.note--collapsed {
  .note-border--left();
  .note--background();
  .note-border--right();
}


.note--collapsed {
  display: none;

  /* only the start of the note used to display collapsed note */
  &.note--start {
    transition: width 0.15s ease,
    margin 0.15s ease;
    padding: 0;
    margin: 0 2px;
    width: 14px;
    height: 1em;
    display: inline-block;
    overflow: hidden;
    text-indent: 24px;
    vertical-align: middle;
    pointer-events: all;
  }

  &:hover {
    margin: 0;
    width: 18px;
    cursor: pointer;
  }
}


/**
 * Hitzone pseudo-elements used for hitzones at start and end of notes for
 * toggling note collapse.
 */
.note-hitzone() {
  content: ' ';
  position: absolute;
  width: 8px;
  height: 100%;
  cursor: pointer;
  pointer-events: all;
}

.note--start::before {
  .note-hitzone;
  margin-left: -5px;
}

.note--end::after {
  .note-hitzone;
}


.note-barrier {
  /* Keeps note barriers inline. */
  display: inline-block;
}
